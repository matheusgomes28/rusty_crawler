name: Build

on: [workflow_call]

env:
  CARGO_TERM_COLOR: always

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: Checkout Full
      uses: actions/checkout@v4
      with:
        fetch-depth: 0
    - name: ðŸš… Release
      run: echo "ðŸš… Releasing!"
    - name: Tagging Repo
      run: |
        VERSION="$(git describe --tags --abbrev=0 | grep -Eo '[0-9]{1,}.[0-9]{1,}.[0-9]{1,}')"
        NEW_VERSION="$(awk -vFS=. -vOFS=. '{$NF++;print}' <<< $VERSION)"
        git tag "$NEW_VERSION"
        git push --tag
